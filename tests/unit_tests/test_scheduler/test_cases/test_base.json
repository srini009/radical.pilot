{ "change_slots": {"nodes":[[{"uid": 1,
                               "cores": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                               "lfs": {"size": 100, "path": "test"},
                               "mem": 1024}],
                             [{"uid": 2,
                               "cores": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                               "lfs": {"size": 100, "path": "test"},
                               "mem": 1024, "gpus": [0, 0, 0]}],
                             [{"uid": 2,
                               "cores": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                               "lfs": {"size": 100, "path": "test"},
                               "mem": 1024, "gpus": [0, 0, 0]}],
                             [{"uid": 2,
                               "cores": [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                               "lfs": {"path": "test", "size": 100},
                               "mem": 1014, "gpus": [0, 1, 0]}],
                             [{"uid": 2,
                               "cores": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                               "lfs": {"size": 100, "path": "test"},
                               "mem": 1024, "gpus": [0, 0, 0]}]
                            ],
                    "slots":[{"cores_per_node": 16,
                              "lfs_per_node": {"size": 0, "path": "/dev/null"},
                              "nodes": [{"lfs": {"path": "/dev/null", "size": 0},"core_map": [[0]],"name": "a","gpu_map": [],"uid": 1,"mem": null}],
                              "lm_info": "INFO","gpus_per_node": 6},
                             {"cores_per_node": 16,
                              "lfs_per_node": {"size": 0, "path": "/dev/null"},
                              "nodes": [{"lfs": {"path": "/dev/null",
                                                 "size": 0},
                                         "core_map": [[0]],
                                         "name": "a",
                                         "gpu_map": [[1]],
                                         "uid": 2,
                                         "mem": 10}],
                              "lm_info": "INFO", "gpus_per_node": 6},
                             {"cores_per_node": 16,
                              "lfs_per_node": {"size": 0, "path": "/dev/null"},
                              "nodes": [{"lfs": {"path": "/dev/null",
                                                 "size": 0},
                                         "core_map": [[0]],
                                         "name": "a",
                                         "gpu_map": [[1]],
                                         "uid": 2,
                                         "mem": 10}],
                              "lm_info": "INFO", "gpus_per_node": 6},
                             {"cores_per_node": 16,
                              "lfs_per_node": {"size": 0, "path": "/dev/null"},
                              "nodes": [{"lfs": {"path": "/dev/null",
                                                 "size": 0},
                                         "core_map": [[0]],
                                         "name": "a",
                                         "gpu_map": [[1]],
                                         "uid": 2,
                                         "mem": 10}],
                              "lm_info": "INFO", "gpus_per_node": 6},
                             {"cores_per_node": 16,
                              "lfs_per_node": {"size": 0, "path": "/dev/null"},
                              "nodes": [{"lfs": {"path": "/dev/null",
                                                 "size": 0},
                                         "core_map": [[0]],
                                         "name": "a",
                                         "gpu_map": [],
                                         "uid": 1,
                                         "mem": null}],
                              "lm_info": "INFO", "gpus_per_node": 6}
                             ],
                    "new_state": [1, 1, 1, 0, 1],
                    "results":[[{"uid": 1,
                                 "cores": [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                 "lfs": {"path": "test", "size": 100},
                                 "mem": 1024}],
                               [{"uid": 2,
                                 "cores": [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                 "lfs": {"path": "test", "size": 100},
                                 "gpus":[0,1,0],"mem": 1014}],
                               [{"mem": 1014,
                                 "cores": [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                 "uid": 2,
                                 "lfs": {"path": "test", "size": 100},
                                 "gpus":[0,1,0]}],
                               [{"mem": 1024,
                                 "cores": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                 "uid": 2,
                                 "lfs": {"path": "test", "size": 100},
                                 "gpus":[0,0,0]}],
                               "RuntimeError"
                              ]
                   },
    "try_allocation":{
        "setup": [
            {
                "task": {"uid": "task.000000",
                         "description": {"executable": "/bin/sleep",
                                         "environment": {}}},
                "scheduled_task_slots": {"cores_per_node": 16,
                                         "lfs_per_node": {"size": 0,
                                                          "path": "/dev/null"},
                                         "nodes": [
                                             {"lfs": {"path": "/dev/null",
                                                      "size": 0},
                                              "core_map": [[0]],
                                              "name": "a",
                                              "gpu_map": null,
                                              "uid": 1,
                                              "mem": null}
                                         ],
                                         "lm_info": "INFO",
                                         "gpus_per_node": 6
                                     }
            },
            {
                "task": {"uid": "task.000001",
                         "description": {"executable": "/bin/sleep",
                                         "environment": {}}},
                "scheduled_task_slots": {"cores_per_node": 16,
                                         "lfs_per_node": {"size": 0,
                                                          "path": null},
                                         "nodes": [
                                             {"lfs": {"path": null,
                                                      "size": 0},
                                              "core_map": [[0]],
                                              "name": "a",
                                              "gpu_map": null,
                                              "uid": 1,
                                              "mem": null}
                                         ],
                                         "lm_info": "INFO",
                                         "gpus_per_node": 6
                                     }
            }
        ],
        "results": [
            {
                "description": {"environment": {"NODE_LFS_PATH": "/dev/null"},
                                "executable": "/bin/sleep"},
                "slots": {"cores_per_node": 16,
                          "gpus_per_node": 6,
                          "lfs_per_node": {"path": "/dev/null", "size": 0},
                          "lm_info": "INFO",
                          "nodes": [{"core_map": [[0]],
                                     "gpu_map": null,
                                     "lfs": {"path": "/dev/null", "size": 0},
                                     "mem": null,
                                     "name": "a",
                                     "uid": 1}]},
                "uid": "task.000000"
            },
            {
                "description": {"environment": {},
                                "executable": "/bin/sleep"},
                "slots": {"cores_per_node": 16,
                          "gpus_per_node": 6,
                          "lfs_per_node": {"path": null, "size": 0},
                          "lm_info": "INFO",
                          "nodes": [{"core_map": [[0]],
                                     "gpu_map": null,
                                     "lfs": {"path": null, "size": 0},
                                     "mem": null,
                                     "name": "a",
                                     "uid": 1}]},
                "uid": "task.000001"
            }
        ]
    },
    "handle_cuda": {"setup": [{"rm_info":{"lm_info":{}}},
                              {"rm_info":{"lm_info":{}}},
                              {"rm_info":{"lm_info":{"cvd_id_mode":"physical"}}},
                              {"rm_info":{"lm_info":{"cvd_id_mode":"logical"}}},
                              {"rm_info":{"lm_info":{"cvd_id_mode":"something_else"}}}],
                    "task":[{"description":{"environment": {}},
                             "slots":{"cores_per_node": 16,
                                      "lfs_per_node": {"size": 0, "path": "/dev/null"},
                                      "nodes": [{"lfs": {"path": "/dev/null", "size": 0},
                                                 "core_map": [[0]],
                                                 "name": "a",
                                                 "gpu_map": null,
                                                 "uid": 1,
                                                 "mem": null}],
                                      "lm_info": "INFO",
                                      "gpus_per_node": 6}},
                            {"description":{"environment": {}},
                             "slots":{"cores_per_node": 16,
                                      "lfs_per_node": {"size": 0, "path": "/dev/null"},
                                      "nodes": [{"lfs": {"path": "/dev/null", "size": 0},
                                                 "core_map": [[0]],
                                                 "name": "a",
                                                 "gpu_map": [[1]],
                                                 "uid": 1,
                                                 "mem": null}],
                                      "lm_info": "INFO",
                                      "gpus_per_node": 6}},
                            {"description": {"environment": {}},
                             "slots":{"cores_per_node": 16,
                                      "lfs_per_node": {"size": 0, "path": "/dev/null"},
                                      "nodes": [{"lfs": {"path": "/dev/null", "size": 0},
                                                 "core_map": [[0]],
                                                 "name": "a",
                                                 "gpu_map": [[0],[1]],
                                                 "uid": 1,
                                                 "mem": null}],
                                      "lm_info": "INFO",
                                      "gpus_per_node": 6}},
                            {"description": {"environment": {}},
                             "slots":{"cores_per_node": 16,
                                      "lfs_per_node": {"size": 0, "path": "/dev/null"},
                                      "nodes": [{"lfs": {"path": "/dev/null", "size": 0},
                                                 "core_map": [[0]],
                                                 "name": "a",
                                                 "gpu_map": [],
                                                 "uid": 1,
                                                 "mem": null}],
                                      "lm_info": "INFO",
                                      "gpus_per_node": 6}},
                            {"description": {"environment": {}},
                             "slots":{"cores_per_node": 16,
                                      "lfs_per_node": {"size": 0, "path": "/dev/null"},
                                      "nodes": [{"lfs": {"path": "/dev/null", "size": 0},
                                                 "core_map": [[0]],
                                                 "name": "a",
                                                 "gpu_map": [[0]],
                                                 "uid": 1,
                                                 "mem": null}],
                                      "lm_info": "INFO",
                                      "gpus_per_node": 6}}],
                    "results": ["KeyError",
                                "1",
                                "0,1",
                                "KeyError",
                                "ValueError"]}

}

